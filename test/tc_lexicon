#!/usr/bin/ruby
require 'test/unit'
require 'rubbish'

# This just checks that the lexicon of the files in
#   lib/**.rb
# has not changed.  No dictionary maintainance required.
# Just ensure you have no typos...
# then set the hex to the observed value.
# BTW, if spell returns no errors, hex is
#   d41d8cd98f00b204e9800998ecf8427e
class TestLexicon < Test::Unit::TestCase
  def test_lexicon
    hex = Rubbish.fish('cat lib/**.rb | spell | md5sum').split.first
    assert_equal '1d5a23700a46c8d7f46dc0e3c1e82808', hex, 'Hexdigest All'
  end

  def test_lexicon_code
    hex = Rubbish.fish("cat lib/**.rb | egrep -v '^\\s*#' | spell | md5sum").split.first
    assert_equal '5b9ee438380a8133c0973cea4c06a094', hex, 'Hexdigest Code'
  end

  def test_lexicon_comments
    hex = Rubbish.fish("cat lib/**.rb | egrep '^\\s*#' | spell | md5sum").split.first
    assert_equal 'fca042df03f85f0b3103442d2e0500ab', hex, 'Hexdigest Comments'
  end
end
